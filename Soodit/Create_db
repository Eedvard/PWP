from app import db

from app import NutritionInformation, Ingredient, Recipe, RecipeIngredient, RecipeInstructionStep, ShoppingList, ShoppingListIngredient, User, Like
from datetime import datetime
db.create_all()

#create example models

nutri = NutritionInformation(
servingSize = 9,
servingSizeUnit = "g",
calories = 299,
carbohydrateContent = 7,
cholesterolContent = 8,
fatContent = 32,
fiberContent = 92,
proteinContent = 58,
saturatedFatContent = 84,
sodiumContent = 70,
sugarContent = 88,
transFatContent = 14,
unsaturatedFatContent = 87
)

ingredient = Ingredient(
name="potato",
description = "potato is a potato"
)

recipe = Recipe(
name = "chickensoup",
description = "nice soup",
recipeYield = "9 servings",
cookTime = "5 hours",
recipeCategory = "soup",
author = "Ville",
datePublished = datetime(2019, 1, 1, 0, 0, 1),
number_of_likes = 0
)

recipei = RecipeIngredient(
amount = 5,
unit = "kg")

recipestep = RecipeInstructionStep(
step = 5,
text = "boil the potatoes")

shoplist = ShoppingList(
notes = "buy some cheese"
)
shoplisti = ShoppingListIngredient(
amount = 5,
unit = "dl"
)
user = User(
username = "rille"
)

like = Like(
likes = True
)


#create relationships between models

ingredient.nutrition_information = nutri
recipe.nutrition_information = nutri
recipei.recipe = recipe
recipei.ingredient = ingredient
recipestep.recipe = recipe
shoplisti.shopping_list = shoplist
shoplisti.ingredient = ingredient
shoplisti.owner = user.username
like.recipe = recipe
like.user = user.username

#create database

db.session.add(nutri)
db.session.add(ingredient)
db.session.add(recipe)
db.session.add(recipei)
db.session.add(recipestep)
db.session.add(shoplist)
db.session.add(shoplisti)
db.session.add(user)
db.session.add(like)

db.session.commit()